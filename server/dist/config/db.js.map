{"version":3,"sources":["../../src/config/db.js"],"names":["dbconnect","connect","useMongoClient","db","connection","on","console","log","once"],"mappings":";;;;;;AACA;;;;;;AAEA,SAASA,SAAT,GAAsB;AACpB,qBAASC,OAAT,CAAiB,mCAAjB,EAAsD,EAACC,gBAAgB,IAAjB,EAAtD;AACA,MAAIC,KAAK,mBAASC,UAAlB;AACAD,KAAGE,EAAH,CAAM,OAAN,EAAe,YAAM;AACnBC,YAAQC,GAAR,CAAY,UAAZ;AACD,GAFD;AAGAJ,KAAGK,IAAH,CAAQ,MAAR,EAAgB,YAAM;AACpBF,YAAQC,GAAR,CAAY,UAAZ;AACD,GAFD;AAGAJ,KAAGE,EAAH,CAAM,OAAN,EAAe,YAAM;AACnBC,YAAQC,GAAR,CAAY,iBAAZ;AACD,GAFD;AAGD;;kBAEcP,S","file":"db.js","sourcesContent":["\r\nimport mongoose from 'mongoose';\r\n\r\nfunction dbconnect () {\r\n  mongoose.connect('mongodb://127.0.0.1:27017/tourism', {useMongoClient: true});\r\n  var db = mongoose.connection;\r\n  db.on('error', () => {\r\n    console.log('数据库连接出错。');\r\n  });\r\n  db.once('open', () => {\r\n    console.log('数据库连接成功。');\r\n  });\r\n  db.on('close', () => {\r\n    console.log('数据库已断开，请重新连接数据库');\r\n  });\r\n}\r\n\r\nexport default dbconnect;\r\n"]}